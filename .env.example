# ════════════════════════════════════════════════════════════════════════════
# RAG Agent — Environment Variables
# Copy this file to the project root as .env and fill in the values.
# ════════════════════════════════════════════════════════════════════════════

# ── OpenAI ──────────────────────────────────────────────────────────────────
OPENAI_API_KEY=sk-proj-...
OPENAI_MODEL=gpt-4o-mini
OPENAI_EMBEDDING_MODEL=text-embedding-3-small

# ── SharePoint / MSAL ───────────────────────────────────────────────────────
# Azure AD App Registration — required application permissions (admin consented):
#   Microsoft Graph → Sites.Read.All
#   Microsoft Graph → Files.Read.All
#
# How to create the app registration:
#   1. Azure Portal → Azure Active Directory → App registrations → New registration
#   2. Name: rag-agent  |  Supported account types: Single tenant
#   3. Certificates & secrets → New client secret → copy the VALUE
#   4. API permissions → Add → Microsoft Graph → Application permissions:
#      Sites.Read.All + Files.Read.All → Grant admin consent
#   5. Copy: Directory (tenant) ID, Application (client) ID

SP_TENANT_ID=xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
SP_CLIENT_ID=xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
SP_CLIENT_SECRET=your-client-secret-value-here

SP_SITE_HOSTNAME=xxxxxxxxxx.sharepoint.com
SP_SITE_PATH=/sites/xxxxxxxxxxxxxx
SP_DRIVE_NAME=xxxxxxxxxxxxxxxxxxxx

# ── Chroma (vector store) ───────────────────────────────────────────────────
CHROMA_PERSIST_DIR=./rag_agent/data/chroma
CHROMA_COLLECTION_NAME=sharepoint_docs

# ── RAG tuning ──────────────────────────────────────────────────────────────
RETRIEVER_K=6          # number of chunks returned per query
CHUNK_SIZE=1000        # characters per chunk
CHUNK_OVERLAP=200      # overlap between adjacent chunks

# ── Sync scheduler ──────────────────────────────────────────────────────────
SYNC_INTERVAL_HOURS=6
DELTA_TOKEN_PATH=./rag_agent/data/delta_token.json

# ── Streamlit app ───────────────────────────────────────────────────────────
APP_TITLE=IT Infrastructure Knowledge Base
APP_PORT=8501

# ── SSL (enterprise proxy) ──────────────────────────────────────────────────
# Set True ONLY when behind a corporate SSL inspection proxy.
# WARNING: disables TLS certificate verification for outbound requests.
INSECURE=False

# ── LangSmith tracing (optional) ────────────────────────────────────────────
LANGSMITH_TRACING=true
LANGSMITH_ENDPOINT=https://api.smith.langchain.com
LANGSMITH_API_KEY=xxxxxxxxxxxxxxxxxxx
LANGSMITH_PROJECT=xxxxxxxxxxxxxxxxxx
